<html lang="en_US">

<head>
  <title>Explore possible futures (cpp) :  Move through the alternatives</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Cpp Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: 0px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="Presentation.html">1. Presentation</a></li>
            <li class="level1"><a href="MoveThroughTheAlternatives.html"><b>2. Move through the alternatives </b></a></li>
            <li class="level1"><a href="ViewGraph.html">3. View graph </a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1"><a href="../../InstallOntologenius.html">Install Ontologenius</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../../python_Tutorials/Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../cpp_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../cpp_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../cpp_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlClient.html">SparqlClient</a></li>
            <li class="level2"><b>Index based classes</b></li>
            <li class="level1"><a href="../../cpp_API/ClassIndexClient.html">ClassIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ClientBaseIndex.html">ClientBaseIndex</a></li>
            <li class="level1"><a href="../../cpp_API/ConvertionClient.html">ConvertionClient</a></li>
            <li class="level1"><a href="../../cpp_API/DataPropertyIndexClient.html">DataPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/IndividualIndexClient.html">IndividualIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/ObjectPropertyIndexClient.html">ObjectPropertyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyIndexClient.html">OntologyIndexClient</a></li>
            <li class="level1"><a href="../../cpp_API/OntologyManipulatorIndex.html">OntologyManipulatorIndex</a></li>
            <li class="level1"><a href="../../cpp_API/SparqlIndexClient.html">SparqlIndexClient</a></li>
          </ul>
          <br/>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Explore possible futures (cpp)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">Commit and checkout</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Move through the alternatives</h1>

        <p>Create a main file and paste the following inside it:</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;iostream&gt;</span></div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&lt;ros/ros.h&gt;</span></div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&quot;ontologenius/OntologiesManipulator.h&quot;</span></div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="cpp_type">int</span> main(<span class="cpp_type">int</span> argc, <span class="cpp_type">char</span><span class="cpp_op">**</span> argv)</div>
          <div class="code_line">{</div>
          <div class="code_line">  ros::init(argc, argv, <span class="cpp_string">&quot;explore_futures&quot;</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  ros::<span class="cpp_type">NodeHandle</span> n;</div>
          <div class="code_line">  onto::<span class="cpp_type">OntologiesManipulator</span> onto(&n);</div>
          <div class="code_line">  onto.waitInit();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto.add(<span class="cpp_string">&quot;bob&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;bob&quot;</span>]<span class="cpp_op">-&gt;</span>close();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto.copy(<span class="cpp_string">&quot;cpy&quot;</span>, <span class="cpp_string">&quot;bob&quot;</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.waitConnected();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addConcept(<span class="cpp_string">&quot;bob&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addInheritage(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;human&quot;</span>);</div>
          <div class="code_line">  std::<span class="cpp_type">string</span> first_commit <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addProperty(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;eat&quot;</span>, <span class="cpp_string">&quot;pasta&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addProperty(<span class="cpp_string">&quot;pasta&quot;</span>, <span class="cpp_string">&quot;isIn&quot;</span>, <span class="cpp_string">&quot;bob&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit(<span class="cpp_string">&quot;after_pasta&quot;</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.checkout(first_commit);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addProperty(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;eat&quot;</span>, <span class="cpp_string">&quot;burger&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addProperty(<span class="cpp_string">&quot;burger&quot;</span>, <span class="cpp_string">&quot;isIn&quot;</span>, <span class="cpp_string">&quot;bob&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit(<span class="cpp_string">&quot;after_burger&quot;</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.checkout(<span class="cpp_string">&quot;after_pasta&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addProperty(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;isHungry&quot;</span>, <span class="cpp_string">&quot;bool&quot;</span>, <span class="cpp_string">&quot;true&quot;</span>);</div>
          <div class="code_line">  std::<span class="cpp_type">string</span> hungry_commit <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.checkout(<span class="cpp_string">&quot;after_pasta&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.addProperty(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;isHungry&quot;</span>, <span class="cpp_string">&quot;bool&quot;</span>, <span class="cpp_string">&quot;false&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.checkout(hungry_commit);</div>
          <div class="code_line">  std::<span class="cpp_type">vector</span>&lt;std::<span class="cpp_type">string</span>&gt; hungry_state <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>individuals.getOn(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;isHungry&quot;</span>);</div>
          <div class="code_line">  std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;-&gt; test hungry on cpy&quot;</span> <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_op">auto</span> state <span class="cpp_op">:</span> hungry_state)</div>
          <div class="code_line">    std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;bob isHungry &quot;</span> <span class="cpp_op">&lt;&lt;</span> state <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line"><br></div>
          <div class="code_line">  hungry_state <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;bob&quot;</span>]<span class="cpp_op">-&gt;</span>individuals.getOn(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;isHungry&quot;</span>);</div>
          <div class="code_line">  std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;-&gt; test hungry on bob&quot;</span> <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_op">auto</span> state <span class="cpp_op">:</span> hungry_state)</div>
          <div class="code_line">    std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;bob isHungry &quot;</span> <span class="cpp_op">&lt;&lt;</span> state <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto.del(<span class="cpp_string">&quot;cpy&quot;</span>);</div>
          <div class="code_line"><br></div>
          <div class="code_line">  ros::spinOnce();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  <span class="cpp_return">return</span> <span class="cpp_value">0</span>;</div>
          <div class="code_line">}</div>
        </div>

        <p>Now, let's break the code down.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 4;">
          <div class="code_line"><span class="cpp_include">#include</span> <span class="cpp_included">&quot;ontologenius/OntologiesManipulator.h&quot;</span></div>
        </div>

        <p>Since we need to manipulate multiple instances, we have to include the OntologiesManipulator header.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 14;">
          <div class="code_line">  onto.add(<span class="cpp_string">&quot;bob&quot;</span>);</div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;bob&quot;</span>]<span class="cpp_op">-&gt;</span>close();</div>
        </div>

        <p>Once we have an OntologiesManipulator object, we can use it to create an instance for our bob agent. This instance
          is the one that represents his knowledge base at present.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 17;">
          <div class="code_line">  onto.copy(<span class="cpp_string">&quot;cpy&quot;</span>, <span class="cpp_string">&quot;bob&quot;</span>);</div>
        </div>

        <p>To create the instance that represents the possible futures, we use the copy function of the
          OntologiesManipulator object. This function creates a deep copy of an existing instance which becomes independent.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 23;">
          <div class="code_line">  std::<span class="cpp_type">string</span> first_commit <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit();</div>
        </div>

        <p>After making changes in our new instance, we can now commit these changes with the commit function.
          It then returns the identifier of the commit that we must keep so that we can return to it later.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 27;">
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit(<span class="cpp_string">&quot;after_pasta&quot;</span>);</div>
        </div>

        <p>The commit function can also be used with a personalized commit identifier. The advantage is that you no
          longer need to store it or that you can use an identifier already existing in your program.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 29;">
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.checkout(first_commit);</div>
        </div>

        <p>If we now want to return to the state of our first commit, nothing more simple, just do a checkout with the identifier
          of the first commit. After this line, it's as if Bob hadn't eaten the pasta.</p>

        <p>In the following lines of the program, we simply go from one commit to another by making some modifications.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 41;">
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.commit();</div>
          <div class="code_line"><br></div>
          <div class="code_line">  onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>feeder.checkout(hungry_commit);</div>
        </div>

        <p>In the lines above, we execute a commit in a state where bob is not hungry.
          We then checkout the commit where he is hungry.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 44;">
          <div class="code_line">  std::<span class="cpp_type">vector</span>&lt;std::<span class="cpp_type">string</span>&gt; hungry_state <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;cpy&quot;</span>]<span class="cpp_op">-&gt;</span>individuals.getOn(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;isHungry&quot;</span>);</div>
          <div class="code_line">  std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;-&gt; test hungry on cpy&quot;</span> <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_op">auto</span> state <span class="cpp_op">:</span> hungry_state)</div>
          <div class="code_line">    std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;bob isHungry &quot;</span> <span class="cpp_op">&lt;&lt;</span> state <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line"><br></div>
          <div class="code_line">  hungry_state <span class="cpp_op">=</span> onto[<span class="cpp_string">&quot;bob&quot;</span>]<span class="cpp_op">-&gt;</span>individuals.getOn(<span class="cpp_string">&quot;bob&quot;</span>, <span class="cpp_string">&quot;isHungry&quot;</span>);</div>
          <div class="code_line">  std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;-&gt; test hungry on bob&quot;</span> <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
          <div class="code_line">  <span class="cpp_op">for</span>(<span class="cpp_op">auto</span> state <span class="cpp_op">:</span> hungry_state)</div>
          <div class="code_line">    std::cout <span class="cpp_op">&lt;&lt;</span> <span class="cpp_string">&quot;bob isHungry &quot;</span> <span class="cpp_op">&lt;&lt;</span> state <span class="cpp_op">&lt;&lt;</span> std::endl;</div>
        </div>

        <p>With these displays, we should see the fact that bob is hungry regarding the copied instance since we checked this state.</p>
        <p>Regarding the bob instance, we should have no results for the getOn request since the copied instance is
          independent of the original instance.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 54;">
          <div class="code_line">  onto.del(<span class="cpp_string">&quot;cpy&quot;</span>);</div>
        </div>

        <p>We can finally delete our copied instance because we no longer need it. By doing so, even if we had set an internal
          file to Ontologenius, this instance will not be saved.</p>

        <p>Compile this, start the program and verify if you have the expected results.</p>

        <nav class="course-pagination">
          <a href="Presentation.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Presentation</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="ViewGraph.html" class="course-pagination__btn">
            <span>View graph</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
