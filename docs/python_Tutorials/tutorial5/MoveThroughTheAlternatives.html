<html lang="en_US">

<head>
  <title>Explore possible futures (python) :  Move through the alternatives</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius/wiki" tabindex="0">Wiki</a></li>
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Python Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: 0px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="Presentation.html">1. Presentation</a></li>
            <li class="level1"><a href="MoveThroughTheAlternatives.html"><b>2. Move through the alternatives </b></a></li>
            <li class="level1"><a href="ViewGraph.html">3. View graph </a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1"><a href="../../InstallOntologenius.html">Install Ontologenius</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../../cpp_Tutorials/Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../python_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../python_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../python_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../python_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../python_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../python_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../python_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../python_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../python_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../python_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../python_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../python_API/SparqlClient.html">SparqlClient</a></li>
          </ul>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Explore possible futures (python)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">Commit and checkout</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Move through the alternatives</h1>

        <p>Create a main file and paste the following inside it:</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="py_comment">#!/usr/bin/env python</span></div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="py_op">import</span> rospy</div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="py_op">from</span> ontologenius <span class="py_op">import</span> OntologiesManipulator</div>
          <div class="code_line"><br></div>
          <div class="code_line"><span class="py_op">if</span> __name__ == <span class="py_string">'__main__'</span>:</div>
          <div class="code_line">    rospy.init_node(<span class="py_string">'explore_futures'</span>)</div>
          <div class="code_line"><br></div>
          <div class="code_line">    onto = OntologiesManipulator()</div>
          <div class="code_line">    onto.waitInit()</div>
          <div class="code_line"><br></div>
          <div class="code_line">    onto.add(<span class="py_string">'bob'</span>)</div>
          <div class="code_line">    onto.get(<span class="py_string">'bob'</span>).close()</div>
          <div class="code_line"><br></div>
          <div class="code_line">    onto.copy(<span class="py_string">'cpy'</span>, <span class="py_string">'bob'</span>)</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto = onto.get(<span class="py_string">'cpy'</span>)</div>
          <div class="code_line">    copied_onto.feeder.waitConnected();</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.addConcept(<span class="py_string">'bob'</span>)</div>
          <div class="code_line">    copied_onto.feeder.addInheritage(<span class="py_string">'bob'</span>, <span class="py_string">'human'</span>)</div>
          <div class="code_line">    first_commit = copied_onto.feeder.commitAuto()</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.addObjectProperty(<span class="py_string">'bob'</span>, <span class="py_string">'eat'</span>, <span class="py_string">'pasta'</span>)</div>
          <div class="code_line">    copied_onto.feeder.addObjectProperty(<span class="py_string">'pasta'</span>, <span class="py_string">'isIn'</span>, <span class="py_string">'bob'</span>)</div>
          <div class="code_line">    copied_onto.feeder.commit(<span class="py_string">'after_pasta'</span>)</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.checkout(first_commit)</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.addObjectProperty(<span class="py_string">'bob'</span>, <span class="py_string">'eat'</span>, <span class="py_string">'burger'</span>)</div>
          <div class="code_line">    copied_onto.feeder.addObjectProperty(<span class="py_string">'burger'</span>, <span class="py_string">'isIn'</span>, <span class="py_string">'bob'</span>)</div>
          <div class="code_line">    copied_onto.feeder.commit(<span class="py_string">'after_burger'</span>)</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.checkout(<span class="py_string">'after_pasta'</span>)</div>
          <div class="code_line">    copied_onto.feeder.addDataProperty(<span class="py_string">'bob'</span>, <span class="py_string">'isHungry'</span>, <span class="py_string">'bool'</span>, <span class="py_string">'True'</span>)</div>
          <div class="code_line">    hungry_commit = copied_onto.feeder.commitAuto()</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.checkout(<span class="py_string">'after_pasta'</span>)</div>
          <div class="code_line">    copied_onto.feeder.addDataProperty(<span class="py_string">'bob'</span>, <span class="py_string">'isHungry'</span>, <span class="py_string">'bool'</span>, <span class="py_string">'False'</span>)</div>
          <div class="code_line">    copied_onto.feeder.commitAuto()</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.checkout(hungry_commit)</div>
          <div class="code_line">    hungry_state = copied_onto.individuals.getOn(<span class="py_string">'bob'</span>, <span class="py_string">'isHungry'</span>)</div>
          <div class="code_line">    <span class="py_op">print</span> <span class="py_string">'-> test hungry on cpy'</span></div>
          <div class="code_line">    <span class="py_op">for</span> state <span class="py_op">in</span> hungry_state:</div>
          <div class="code_line">        <span class="py_op">print</span> state</div>
          <div class="code_line"><br></div>
          <div class="code_line">    hungry_state = onto.get(<span class="py_string">'bob'</span>).individuals.getOn(<span class="py_string">'bob'</span>, <span class="py_string">'isHungry'</span>)</div>
          <div class="code_line">    <span class="py_op">print</span> <span class="py_string">'-> test hungry on bob'</span></div>
          <div class="code_line">    <span class="py_op">for</span> state <span class="py_op">in</span> hungry_state:</div>
          <div class="code_line">        <span class="py_op">print</span> state</div>
          <div class="code_line"><br></div>
          <div class="code_line">    onto.delete(<span class="py_string">'cpy'</span>)</div>
          <div class="code_line"><br></div>
          <div class="code_line">    rospy.spin()</div>
        </div>

        <p>Now, let's break the code down.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 4;">
          <div class="code_line"><span class="py_op">from</span> ontologenius <span class="py_op">import</span> OntologiesManipulator</div>
        </div>

        <p>Since we need to manipulate multiple instances, we have to import the OntologiesManipulator object.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 12;">
          <div class="code_line">    onto.add(<span class="py_string">'bob'</span>)</div>
          <div class="code_line">    onto.get(<span class="py_string">'bob'</span>).close()</div>
        </div>

        <p>Once we have an OntologiesManipulator object, we can use it to create an instance for our bob agent. This instance
          is the one that represents his knowledge base at present.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 15;">
          <div class="code_line">    onto.copy(<span class="py_string">'cpy'</span>, <span class="py_string">'bob'</span>)</div>
        </div>

        <p>In order to create the instance that represents the possible futures, we use the copy function of the
          OntologiesManipulator object. This function creates a deep copy of an existing instance which becomes independent.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 22;">
          <div class="code_line">    first_commit = copied_onto.feeder.commitAuto()</div>
        </div>

        <p>After making changes in our new instance, we can now commit these changes with the commitAuto function.
          It then returns the identifier of the commit that we must keep so that we can return to it later.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 26;">
          <div class="code_line">    copied_onto.feeder.commit(<span class="py_string">'after_pasta'</span>)</div>
        </div>

        <p>You can also use the commit function with a personalized commit identifier. The advantage is that you no
          longer need to store it or that you can use an identifier already existing in your program.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 28;">
          <div class="code_line">    copied_onto.feeder.checkout(first_commit)</div>
        </div>

        <p>If we now want to return to the state of our first commit, nothing more simple, just do a checkout with the identifier
          of the first commit. After this line, it's as if Bob hadn't eaten the pasta.</p>

        <p>In the following lines of the program, we simply go from one commit to another by making some modifications.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 40;">
          <div class="code_line">    copied_onto.feeder.commitAuto()</div>
          <div class="code_line"><br></div>
          <div class="code_line">    copied_onto.feeder.checkout(hungry_commit)</div>
        </div>

        <p>In the lines above, we execute a commit in a state where bob is not hungry.
          We then checkout the commit where he is hungry.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 43;">
          <div class="code_line">    hungry_state = copied_onto.individuals.getOn(<span class="py_string">'bob'</span>, <span class="py_string">'isHungry'</span>)</div>
          <div class="code_line">    <span class="py_op">print</span> <span class="py_string">'-> test hungry on cpy'</span></div>
          <div class="code_line">    <span class="py_op">for</span> state <span class="py_op">in</span> hungry_state:</div>
          <div class="code_line">        <span class="py_op">print</span> state</div>
          <div class="code_line"><br></div>
          <div class="code_line">    hungry_state = onto.get(<span class="py_string">'bob'</span>).individuals.getOn(<span class="py_string">'bob'</span>, <span class="py_string">'isHungry'</span>)</div>
          <div class="code_line">    <span class="py_op">print</span> <span class="py_string">'-> test hungry on bob'</span></div>
          <div class="code_line">    <span class="py_op">for</span> state <span class="py_op">in</span> hungry_state:</div>
          <div class="code_line">        <span class="py_op">print</span> state</div>
        </div>

        <p>With these displays, we should see the fact that bob is hungry regarding the copied instance since we checked this state.</p>
        <p>Regarding the bob instance, we should have no results for the getOn request since the copied instance is
          independent of the original instance.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 53;">
          <div class="code_line">    onto.delete(<span class="py_string">'cpy'</span>)</div>
        </div>

        <p>We can finally delete our copied instance because we no longer need it. By doing so, even if we had set an internal
          file to ontologenius, this instance will not be saved.</p>

        <p>Launch the program and verify if you have the expected results.</p>

        <nav class="course-pagination">
          <a href="Presentation.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Presentation</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="ViewGraph.html" class="course-pagination__btn">
            <span>View graph</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
