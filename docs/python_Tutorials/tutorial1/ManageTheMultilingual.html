<html lang="en_US">

<head>
  <title>Use inheritance for my first program (python) : Manage the multilingual</title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <link href="../../style/ontologenius_api.css" rel="stylesheet" type="text/css">
  <link href="../../images/favicon.ico" rel="shortcut icon">
  <link href="../../images/favicon-32x32.png" rel="icon" type="image/png">
  <link href="../../images/favicon-16x16.png" rel="icon" type="image/png">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>

<body>
  <div class="header" id="header">
    <header class="fixed" id="navbar">
      <div class="container">
          <div class="navbar-header">
            <div id="header-buttons">
                <ul id="header-ul" data-event="hover_intent" data-effect="fade" data-effect-speed="500">
                    <li class="header-item"><a class="header-link" href="https://github.com/sarthou/ontologenius" tabindex="0"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/91/Octicons-mark-github.svg/1200px-Octicons-mark-github.svg.png" alt="github" width="40px" height="40px"/></a></li>
                </ul>
            </div>
            <a class="navbar-icon" href="../../index.html">
              <img src="../../images/ontologenius.png " alt="ontologenius" width="65px" height="65px"/>
            </a>
        </div>
      </div>
    </header>
  </div>

  <div class="main">

    <div class="navigationbar">
      <ul class="sub-navigation">
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/src/API/ontologenius">C++ API sources</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/include/ontologenius/API/ontologenius">C++ API headers</a></li>
        <li><a href="https://github.com/sarthou/ontologenius/tree/master/ontopy/ontologenius">Pyhton API sources</a></li>
        <li><a href="https://gitlab.com/sarthou/ontologenius/pipelines">Pipelines</a></li>
      </ul>
      <h1>Ontologenius Cpp Documentation</h1>
    </div>

    <div class="content">
      <div class="sidebar" style="transition: all 0.2s ease-out 0s; top: -270px;">
        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Contents</h3>
          <ul style="display: block;">
            <li class="level1"><a href="settingUpTheProgram.html">1. Setting up the program</a></li>
            <li class="level1"><a href="LaunchTheProgram.html">2. Launch the program</a></li>
            <li class="level1"><a href="FindTheIntruder.html">3. Find the intruder</a></li>
            <li class="level1"><a href="MostRelevantIntruder.html">4. Find the most relevant intruder</a></li>
            <li class="level1"><a href="ManageTheMultilingual.html"><b>5. Manage the multilingual</b></a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Getting Start</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../Download.html">Download</a></li>
            <li class="level1">Install Ontologenius</li>
            <li class="level2"><a href="../../InstallOntologeniusROS1.html">- Install with ROS1</a></li>
            <li class="level2"><a href="../../InstallOntologeniusROS2.html">- Install with ROS2</a></li>
            <li class="level1"><a href="../../SetUp.html">Set Up Your Environnement</a></li>
            <li class="level1"><a href="../../cpp_Tutorials/Tutorials.html">Cpp Tutorials</a></li>
            <li class="level1"><a href="../Tutorials.html">Python Tutorials</a></li>
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>Overview</h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../overview/launchers.html">Launchers</a></li>
            <li class="level1"><a href="../../overview/ontoloGUI.html">OntoloGUI</a></li>
            <li class="level1"><a href="../../overview/reasonersConfiguration.html">Reasoners configuration</a></li>
            <!--li class="level1"><a href="plugins.html">Plugins</a></li-->
          </ul>
        </div>

        <div class="contents">
          <div id="contents-toggle" class=""></div>
          <h3>
            <i class="fas fa-angle-right"></i>
            <a href="../../cpp_API/CppAPI.html">
              All C++ Classes
            </a>
          </h3>
          <h3>
            <i class="fas fa-angle-down"></i>
            <a href="../../python_API/PythonAPI.html">
              All Python Classes
            </a>
          </h3>
          <ul style="display: block;">
            <li class="level1"><a href="../../python_API/ActionClient.html">ActionClient</a></li>
            <li class="level1"><a href="../../python_API/ClassClient.html">ClassClient</a></li>
            <li class="level1"><a href="../../python_API/ClientBase.html">ClientBase</a></li>
            <li class="level1"><a href="../../python_API/DataPropertyClient.html">DataPropertyClient</a></li>
            <li class="level1"><a href="../../python_API/FeederPublisher.html">FeederPublisher</a></li>
            <li class="level1"><a href="../../python_API/IndividualClient.html">IndividualClient</a></li>
            <li class="level1"><a href="../../python_API/ManagerClient.html">ManagerClient</a></li>
            <li class="level1"><a href="../../python_API/ObjectPropertyClient.html">ObjectPropertyClient</a></li>
            <li class="level1"><a href="../../python_API/OntologiesManipulator.html">OntologiesManipulator</a></li>
            <li class="level1"><a href="../../python_API/OntologyClient.html">OntologyClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyManipulator.html">OntologyManipulator</a></li>
            <li class="level1"><a href="../../python_API/ReasonerClient.html">ReasonerClient</a></li>
            <li class="level1"><a href="../../python_API/SparqlClient.html">SparqlClient</a></li>
            <li class="level2"><b>Index based classes</b></li>
            <li class="level1"><a href="../../python_API/ClassIndexClient.html">ClassIndexClient</a></li>
            <li class="level1"><a href="../../python_API/ClientBaseIndex.html">ClientBaseIndex</a></li>
            <li class="level1"><a href="../../python_API/ConversionClient.html">ConversionClient</a></li>
            <li class="level1"><a href="../../python_API/DataPropertyIndexClient.html">DataPropertyIndexClient</a></li>
            <li class="level1"><a href="../../python_API/IndividualIndexClient.html">IndividualIndexClient</a></li>
            <li class="level1"><a href="../../python_API/ObjectPropertyIndexClient.html">ObjectPropertyIndexClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyIndexClient.html">OntologyIndexClient</a></li>
            <li class="level1"><a href="../../python_API/OntologyManipulatorIndex.html">OntologyManipulatorIndex</a></li>
            <li class="level1"><a href="../../python_API/SparqlIndexClient.html">SparqlIndexClient</a></li>
          </ul>
        </div>
      </div>

      <div class="context">
        <div class="toturial-header">
          <h1 class="title">Use inheritance for my first program (python)</h1>
          <a class="toturial-subheader">
            <div class="tutorial-subheader__main-icon">
              <i class="fas fa-brain"></i>
            </div>
            <div class="toturial-subheader__title">
              <h2 class="title">Who is the intruder ?</h2>
            </div>
          </a>
        </div>

        <h1 class="title">Manage the multilingual</h1>

        <p>So far, we have only used individuals in one word that did not allow us to see
          if we were manipulating identifiers or words in natural language. But if we want
          to be able to work with different languages, we will have to make the link between
          a word and its computer identifier.</p>
        <p>So you can test the program with the following words: "green cup", "blue cup" and "green book".</p>
        <p>You have the following result which shows that no intruder has been found.</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on green cup blue cup green book</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>
        <p>However, by redoing the test with the "green_cup", "blue_cup" and "green_book"
          identifiers, you have this:</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on green_cup blue_cup green_book</div>
          <div class="terminal_line">[SAY]the intruder is green_book because it is the only one that is not: cup</div>
          <div class="terminal_line">[SAY]the intruder is blue_cup because it is the only one that is not: green</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>
        <p>You understand that we have so far worked with identifiers and not with words in natural language.
          Multilingual translation can not be done simply by changing the language of work.</p>

        <p>To make the transition from natural language to identifiers and vice versa, we will use the two new
          functions: find() and getName()</p>

        <h2>find</h2>

        <p>The find function is used to retrieve all concepts of a given type whose name in natural language is
          the word passed in the parameter. In this way, if several words are said (and therefore are written) in
          the same way we will be able to recover them all. In this tutorial, this case is not present in
          order not to add complexity. That's why we will each time recover the first element of the list.</p>

        <p>We will therefore modify our callback function to realize the natural language transition
          to identifiers.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line"><span class="py_op">def</span> <span class="py_function">wordCallback</span> (msg):</div>
          <div class="code_line">    <span class="py_op">global</span> _start</div>
          <div class="code_line">    <span class="py_op">global</span> _names</div>
          <div class="code_line"><br></div>
          <div class="code_line">    <span class="py_op">if</span> msg.data == <span class="py_string">'start'</span>:</div>
          <div class="code_line">        _start = <span class="py_value">True</span></div>
          <div class="code_line">    <span class="py_op">elif</span> <span class="py_op">not</span> msg.data <span class="py_op">in</span> _names:</div>
          <div class="code_line">        ids = _onto.individuals.find(msg.data)</div>
          <div class="code_line">        <span class="py_op">if</span> len(ids) == <span class="py_value">0</span>:</div>
          <div class="code_line">            say(<span class="py_string">'this word is unknown'</span> )</div>
          <div class="code_line">        <span class="py_op">else</span>:</div>
          <div class="code_line">            _names.insert(<span class="py_value">1</span>, ids[<span class="py_value">0</span>])</div>
        </div>

        <p>The find function is applied to individuals because we want individuals to input.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 7;">
          <div class="code_line">        ids = _onto.individuals.find(msg.data)</div>
        </div>

        <p>We can test our program again with the words : "green cup", "blue cup" and "green book". We thus
          obtain the same exit as with the old use of the identifiers:</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on green_cup blue_cup green_book</div>
          <div class="terminal_line">[SAY]the intruder is green_book because it is the only one that is not: cup</div>
          <div class="terminal_line">[SAY]the intruder is blue_cup because it is the only one that is not: green</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>

        <h2>getName</h2>

        <p>Our display still uses identifiers. We will change this thanks to the function getName which
          will return a natural language word relative to the identifier passed in parameter.</p>
        <p>The only thing we have to change is the display line as follows:</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line">    say(<span class="py_string">'the intruder is '</span> + _onto.individuals.getName(intruder[<span class="py_value">0</span>]) + \</div>
          <div class="code_line">    <span class="py_string">' because it is the only one that is not: '</span> + \</div>
          <div class="code_line">    _onto.classes.getName(intruder[<span class="py_value">1</span>]));</div>
        </div>

        <p>The result of our program becomes:</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on green_cup blue_cup green_book</div>
          <div class="terminal_line">[SAY]the intruder is green book because it is the only one that is not: cup</div>
          <div class="terminal_line">[SAY]the intruder is blue cup because it is the only one that is not: green</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>

        <h2>Multilingual</h2>

        <p>We will now modify our launch file to put the working language in french.</p>

        <div class="code_block xml_code" style="counter-reset:code_line 0;">
          <div class="code_line">&lt;<span class="xml_tag">launch</span>&gt;</div>
          <div class="code_line">    &lt;<span class="xml_tag">node</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;intruder&quot;</span> <span class="xml_param">pkg</span>=<span class="xml_string">&quot;ontologenius_tutorial&quot;</span> <span class="xml_param">type</span>=<span class="xml_string">&quot;intruder.py&quot;</span> <span class="xml_param">output</span>=<span class="xml_string">&quot;screen&quot</span>/&gt;</div>
          <div class="code_line">    &lt;<span class="xml_tag">include</span> <span class="xml_param">file</span>=<span class="xml_string">&quot;$(find ontologenius)/launch/ontologenius.launch&quot;</span>&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;language&quot;</span> <span class="xml_param">default</span>=<span class="xml_string">&quot;fr&quot;</span>/&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;intern_file&quot;</span> <span class="xml_param">default</span>=<span class="xml_string">&quot;none&quot;</span>/&gt;</div>
          <div class="code_line">        &lt;<span class="xml_tag">arg</span> <span class="xml_param">name</span>=<span class="xml_string">&quot;files&quot;</span> <span class="xml_param">default</span>=<span class="xml_string">&quot;$(find ontologenius)/files/tutorials/tutorial_1.owl&quot;</span>/&gt;</div>
          <div class="code_line">    &lt;/<span class="xml_tag">include</span>&gt;</div>
          <div class="code_line">&lt;/<span class="xml_tag">launch</span>&gt;</div>
        </div>

        <p>Well, that's it, our program will now work in French. You can test it with the words
           "tasse verte", "tasse bleu" et "livre vert".</p>
        <p>The result of our program is:</p>
        <div class="code_block">
          <div class="terminal_line">[SAY]on tasse verte tasse bleu livre vert</div>
          <div class="terminal_line">[SAY]the intruder is livre vert because it is the only one that is not: tasse</div>
          <div class="terminal_line">[SAY]the intruder is tasse bleu because it is the only one that is not: vert</div>
          <div class="terminal_line">[SAY]Let's play!</div>
        </div>

        <p>The advantage of this method is that internally the program uses identifiers that are
          much faster to find and thus only the interface uses the natural language.</p>

        <h2>Go further</h2>

        <p>To go further, you can add the ability to change the working language with the setLang() function.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line">_onto.actions.setLang(<span class="py_string">'en'</span>)</div>
        </div>

        <p>You can also change the display texts according to the language used by retrieving the
          language currently used with the getLang() function.</p>

        <div class="code_block cpp_code" style="counter-reset:code_line 0;">
          <div class="code_line">lang = _onto.actions.getLang()</div>
        </div>

        <p>To obtain the identifier of a word in natural language, we used the function find, but Ontologenius provides other functions to obtain an identifier from natural language.
            You can try the functions proposed by class <a href="../../python_API/OntologyClient.html">OntologyClient</a>.</p>

        <nav class="course-pagination">
          <a href="MostRelevantIntruder.html" class="course-pagination__btn">
            <i class="fas fa-angle-left"></i>
            <span>Find the most relevant intruder</span>
          </a>
          <span class="course-pagination__separator"></span>
          <a href="../tutorial2/Presentation.html" class="course-pagination__btn">
            <span>Next tutorial : Advanced knowledge exploration</span>
            <i class="fas fa-angle-right"></i>
          </a>
        </nav>

      </div>
    </div>

  </div>
</body>

<footer>
  <div align="center">
    <p>
      Brought to you by:
      <a class="laas_logo" href="https://www.laas.fr/public/">
        <img src="../../images/LogoLAAS-2016_BW.png " alt="LAAS-CNRS" height="60px"/>
      </a>
    </p>
  </div>
</footer>

</html>
